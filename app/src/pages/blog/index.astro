---
import { getPageBySlug } from "@/functions/wp-api";
import { normalizeLocalURLs } from "@/lib/utils";

import Page from "@/layouts/Page.astro";

const { slug } = Astro.params;

const page = await getPageBySlug("blog/");

if (!page) {
    return Astro.redirect("/404");
}
---

<Page content={page.content.rendered}>
    <article class="container min-h-32 flex flex-col items-start">
        <section class="grid place-content-center bg-orange-50 px-8 py-6 mt-12">
            <h1 class="text-4xl font-bold text-primary">
                {page.title.rendered}
            </h1>
        </section>
        <section class="w-4xl py-20 px-12">
            <div
                class="prose prose-lg max-w-none"
                set:html={normalizeLocalURLs(page.content.rendered)}
            />
        </section>
    </article>
</Page>

<style is:global>
    .wp-block-image img {
        margin: auto;
    }

    .wp-block-image {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .wp-block-columns {
        display: flex;
        gap: 2rem;
    }
</style>
